---
title: Локализацию пользовательского интерфейса приложения
description: В этом документе описываются основные понятия кросс платформенных интернационализации и локализации и проверяет их влияние на проектирование приложений.
ms.prod: xamarin
ms.assetid: CC6847B2-23FB-4EDE-9F7E-EF29DD46A5C5
author: asb3993
ms.author: amburns
ms.date: 03/22/2017
ms.openlocfilehash: 85e4e98cfbc96936c19642a200885b54cf745aa4
ms.sourcegitcommit: 6be6374664cd96a7d924c2e0c37aeec4adf8be13
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/13/2018
ms.locfileid: "51617518"
---
# <a name="localization"></a>Локализация

В этом руководстве описаны принципы работы *интернационализации* и *локализации* и ссылки на инструкции о том, как создавать мобильные приложения Xamarin с помощью этих понятий.

Если вы хотите перейти непосредственно к технические сведения о локализации приложений Xamarin, начните с одного из статьи с инструкциями эти платформы:

- [**Xamarin.Forms** ](~/xamarin-forms/app-fundamentals/localization/index.md) локализации с помощью файлов RESX.
- [**Xamarin.iOS** ](~/ios/app-fundamentals/localization/index.md) собственной платформы локализации.
- [**Xamarin.Android** ](~/android/app-fundamentals/localization.md) собственной платформы локализации.

## <a name="i18n-and-l10n"></a>i18n и L10n

*Интернационализация* — это процесс создания кода может отображать различных языков и адаптации его отображение для разных языков (например, форматирование чисел и дат). Это также называется *глобализации*.

*Локализация* является шагом, следующая за — создание ресурсов (например, строки и изображения) для каждого языка и их объединения в приложении internationalize.

Интернационализация, он часто сокращается до i18n — сокращение для 18 букв от «i» и «n». Локализации укорачивается аналогичным образом, чтобы L10n — для 10 букв от «L» и «n».

## <a name="overview"></a>Обзор

В этом документе понятия, связанные с интернационализации и локализации и как они применяются для разработки мобильных приложений в целом.
При разработке и построении приложения, действия, которое ранее могут быть жестко, но которого необходимо параметризованные для локализации, включают:

-   Макеты экрана и текст,
-   Значки, графики и цвета,
-   Видео и звуковые файлы
-   Динамический текст и форматирование текста (например, чисел, валют и дат),
 - Изменение макета для языков справа налево (RTL), и
-   Сортировка данных.

Независимо от того, что приложение предназначено для этих советов мобильных платформ поможет вам создавать высококачественные локализованного приложения.


## <a name="design-considerations"></a>Вопросы проектирования

Создание архитектуры приложения, так как это возможность локализации содержимого называется интернационализации. Интернационализация правильно — больше, чем просто позволяем для различных языковых строки для загрузки во время выполнения — хорошо спроектированное приложение следует разрешить для всех ресурсов, которые необходимо изменить с учетом языка и региональных параметров (включая изображения, звук и видео) и можно адаптировать форматирование и макет, чтобы справиться с другой размер строки.

В этом разделе рассматриваются некоторые вопросы проектирования, чтобы принимать во внимание при создании многоязыкового приложения.

### <a name="layouts-and-string-length"></a>Макеты и длину строки

Китайские и японские строк может быть очень мал – иногда один или два символа может быть достаточно существенным, для метки поля ввода.

Строками на немецком языке (например) может быть очень длинным; Иногда относительно короткие слова на английском языке становится очень много на других языках — либо становится обрезается или else неожиданно обновления макета.

Сравните длины строки для нескольких элементов на начальном экране iOS на английском, немецком и японском:

[![](localization-images/language-compare-sml.png "Длина японский строки немецкий vs")](localization-images/language-compare.png#lightbox)

Обратите внимание, что **параметры** на английском языке (8 символов) требует 13 символов для немецкого языков, но только 2 символа на японском языке.

Макеты, отображение метки и поля ввода которых side-by-side затрудняет работу с при длина метки может сильно различаться. Часто макета, где метка будет отображаться над полем легче локализовать, потому что всю ширину экрана для метки и входные данные.

Как правило при создании Фиксированный макет (особенно элементы side-by-side) позволяет по крайней мере 50%, требуют больше ширины, чем ваш строки на английском языке для меток и текста. Это не решения всех проблем, но также предоставит буфера, который будет работать во многих случаях.

### <a name="input-validation"></a>Проверка входных данных

Имейте в виду предположения при написании правил проверки. Может показаться допустимым требуется текстовое поле ввода «требовать» по крайней мере три символа, на английском языке, так как одну букву очень редко имеет любое значение. В китайском и японском Однако один символ может быть допустимых входных данных, а также проверку сообщение «требуется по крайней мере три символа» не имеет смысла для этих языков.

Другие внешне простой задачи, такие как проверка адреса электронной почты или URL-адрес веб-сайте, становятся сложнее с символами, не были ограничены ASCII подмножество.

Запись правила проверки с помощью интернационализации в виду, – выберите наименее ограничительного правила или писать логику, таким образом, чтобы он работает по-разному для каждого языка.

### <a name="images-and-color"></a>Изображения и цвет

Не каждый образ должен изменить зависимости от выбора языка пользователя. Многие значки или фотографии будет подходить для всех пользователей, не имеет значения, какой язык, они говорят.
Некоторые ресурсы смысла для локализации, такие как:

 - Образы, изображающие людей или определенные расположения — приложение может показаться более значимыми для пользователей, если указан локальный людей или расположений.
 - Значки — некоторые иллюстрациях может быть региональными и приложение можно сделать проще использовать, если локализовать изображение в соответствии с локальной понимание.
 - Цвета — некоторых языков и региональных параметров понять цветов по-разному — красный может означать предупреждение в одном регионе, но Удачи в другом. Проверьте с носителями, при разработке приложения, чтобы определить ли следует создавать механизм для локализации цвета.


### <a name="videos-and-sound"></a>Видео и звук

Видео и звука присутствует особые проблемы при локализации приложения, так как запись нескольких voiceover отслеживает хотя относительно легко получить строки или видеоклипы может быть дорогими и сложными.

Несколько копий файлов видео и звука также значительно увеличить размер приложения (особенно если большое количество языков локализации или содержащих большое количество файлов мультимедиа). Рассмотрите возможность загрузки только требуемых языков средства пользователь установил приложение, но это также может привести к плохому обслуживанию пользователей в медленных сетях.

Часто существует несколько способов для поиска решений проблем локализации — самое главное — рассмотреть их первоначальные и убедитесь, что приложение предназначено для обеспечения проверки из них.


### <a name="dates-times-numbers-and-currency"></a>Даты, времени, чисел и валюты

При использовании функций форматирования .NET, не забудьте указать язык и региональные параметры, чтобы десятичные разделители правильно проанализировать (и избежать преобразование исключений, генерируемых). Например 1,99 и 1,99 являются Допустимые десятичные представления в зависимости от используемого языкового стандарта.

Когда данные поступают из известного источника (т. е. из собственного кода или веб службы, которым вы управляете) можно жестко закодировать идентификатор языка и региональных параметров, который соответствует форматирование, такое как InvariantCulture, который будет работать для английских языковым параметрам.

```csharp
double.Parse("1,999.99", CultureInfo.InvariantCulture);
```

Если данные являются входными пользователем приложения, проанализировать его с помощью экземпляра CultureInfo, отражающий языковый стандарт:

```csharp
double.Parse("1 999,99", CultureInfo.CreateSpecificCulture("fr-FR"));
```

См. в разделе [синтаксического анализа числовых строк](http://msdn.microsoft.com/library/xbtzcc4w(v=vs.110).aspx) и [строки синтаксического анализа даты и времени](http://msdn.microsoft.com/library/2h3syy57(v=vs.110).aspx) статьи MSDN для получения дополнительных сведений.

<a name="rtl" />

### <a name="right-to-left-rtl-languages"></a>Языки справа налево (RTL)

Некоторые языки, такие как арабский, иврит и урду (например), доступны для чтения справа налево.
Приложения, поддерживающие эти языки следует использовать макеты экрана, которые адаптируются для модулей чтения справа налево, например:

 - Текст должен быть, по правому краю.
 - Метки должны отображаться справа от поля ввода.
 - Размещение кнопки по умолчанию обычно зеркально.
 - При проведении пальцем по иерархической навигации и анимации (и другие метафоры навигации и анимации), которые используют направление для контекста также должно быть обратным.

IOS и Android поддерживают макеты справа налево и отрисовки шрифта, с помощью встроенных функций, позволяющих сделать выше корректировки. В настоящее время автоматически Xamarin.Forms не поддерживает визуализации «справа налево».

### <a name="sorting"></a>Сортировка

Разные языки по-разному, определяют порядок сортировки алфавиты даже в том случае, если они используют один и тот же набор символов.

См. в разделе [сведения о сравнении строк](http://msdn.microsoft.com/library/dd465121(v=vs.110).aspx#the_details_of_string_comparison) в [советы и рекомендации по использованию строк в .NET Framework](http://msdn.microsoft.com/library/dd465121(v=vs.110).aspx) пример, где язык (CultureInfo) влияет на порядок сортировки.

Маловероятно, возможности встроенной базой данных на мобильных платформах будут поддерживать упорядочение, возможно, потребуется реализовать дополнительный код в бизнес-логику сортировки конкретного языка.

### <a name="text-search"></a>Поиск текста

Убедитесь, можно писать и тестировать ваш алгоритм поиска с несколькими языками в виду. Причины включают:

 - Автоматическое завершение — Если вы создали функцию автозавершения убедитесь, что он источники предложения, относящиеся к на языке пользователя.
 - Совпадающий запрос к данным — выполняет поиск запросы, вводимые в определенном языке выполняться для всего содержимого, написанного на соответствующих языках, или для всего содержимого в приложении?
 - Морфологический поиск — Если поиска создан для поиска схожими словами, корней слов и другими оптимизациями поиска являются распространения параметров оптимизации для всех языков, поддерживаемых?
 - Сортировка — убедитесь, что результаты сортируются правильно (см. выше).


### <a name="data-from-external-sources"></a>Данные из внешних источников

Многие приложения загрузки данных из внешних источников, из Twitter и RSS-каналы, погода, новости или акций. При отображении этого пользователю необходимо учитывать вероятность того, что к ним покажет экран, несоответствующие или может быть прочитан.

Существует несколько стратегий, которые можно использовать для попробуйте и убедитесь, что приложение отображает данные, относящиеся к пользователю.

 - Разные источники — приложение может загрузить данные из другого источника в зависимости от языка или языкового стандарта пользователя. Новости, погода и stock цены языковой стандарт может стать больше смысла, чем что-то загружены из Северной Америки веб-канала.
 - Локализованное отображаемое — при отображении Twitter или фотографию веб-канал, вы должны отобразиться метаданные (например, время, затраченное) в свой собственный язык, даже если само содержимое останется на исходном языке.
 - Перевод — можно создать вариант перевода в приложение, чтобы сделать машинного перевода входящих данных. Это может выполняться автоматически или по усмотрению пользователя — не забудьте уведомить пользователя, если это выполняется, поскольку машины переводы никогда не идеальны.

Это также может повлиять на внешние ссылки в звуковых дорожек или перевести видео — при разработке приложения убедитесь, что для планирования наперед, список источников содержимого или гарантия того, что пользователи получают должным образом с помощью пользовательского интерфейса, если содержимое не будут отображаться в их язык.


### <a name="dont-over-translate"></a>Не чрезмерно подходят для преобразования

Некоторые строки в приложении может не потребоваться перевод или по крайней мере требуется уделить особое транслятором. Примеры могут включать:

 - URL-адреса – Если вывести URL-адрес, он может или не требуется настраивать, язык. Например facebook.com не требует перевода, он автоматически обнаруживает языка в главном подразделении. Другие сайты имеют содержимое определенного языкового стандарта и может потребоваться другой URL-адрес, например yahoo.com и yahoo.fr или yahoo.it предложения.
 - Телефонные номера – особенно с различные коды стран или номера для вызывающих объектов, говорящих на определенном языке.
 - Сведения о контактах – адреса и другие сведения может зависят от языка или языкового стандарта.
 - Товарные знаки и названия продуктов – некоторые строки не требуется преобразование, так как они всегда написаны языке.

Наконец не забудьте включить подробные инструкции по переводчик, если определенные строки требовать специальной обработки.


### <a name="formatted-text"></a>Форматированный текст

Обычно не проблему с помощью мобильных приложений, так как строки обычно форматируются со сложным. Тем не менее если требуется форматированного текста (например, полужирного или курсивного форматирования) в приложении гарантирует переводчик знает, как для ввода форматирование, строки файлов сохранить его правильно отформатирован должным образом перед выводом пользователю (т. е. не позволяйте случайно коды форматирования сами быть отображаются для пользователя).



## <a name="translation-tips"></a>Перевод советы

Преобразование строк, используемых приложением рассматривается как часть процесса локализации. Обычно эта задача будет переносе услугой перевода и выполняемые многоязычных сотрудников, может не знать, приложения и вашего бизнеса.

Следующие советы помогут создания строк, которые легче переводить точно и тем самым повысить качество локализованных приложений.



### <a name="localize-complete-strings-not-words"></a>Локализация строк завершения, не слова

Иногда разработчики подход попытка указать отдельные слова или предложение «фрагменты», чтобы они могли повторно использовать их в приложении. Например для текста «имеется 5 сообщ.» они могут задать следующих строк для перевода

**Неверный**:

```csharp
"You have"
"no"
"message"
"messages"
```

и повторите попытку создания правильности фразы в режиме реального времени в коде с помощью объединения строк:

**Неверный**:

```csharp
"You have" + " " + numMsgs + " " + "messages"
"You have" + " no " + "messages"
```

**Этот вариант не рекомендуется** так как он не будет работать обязательно для всех языков и будет сложно translator, чтобы понять контекст каждого короткий сегмента. Это также приводит к повторное использование переведенных строк, которые может вызвать проблемы более поздней версии, если они используются в различных контекстах (и затем обновляется).


### <a name="allow-for-parameter-re-ordering"></a>Разрешить изменение порядка параметров

Некоторые языки программирования требуют дополнительного синтаксиса для указания порядка параметров в строке, однако .NET уже поддерживает концепцию нумерованные заполнители, так что

**Хороший**:

```csharp
"a {0} b {1} cde {3}"
```

может быть преобразован следующее (где положение и порядком заполнителей меняется)

```csharp
"{2} {3} f g h {0}"
```

и маркеры будут упорядочены как преобразователь предназначен. Не забудьте включить объяснение содержимое каждый заполнитель при отправке строки переводчика.


### <a name="use-multiple-strings-for-cardinality"></a>Использование нескольких строк для количества элементов

Избегайте строки вроде `"You have {0} message/s."` использовать определенные строки для каждого состояния для повышения удобства работы пользователя:

**Хороший**:

```csharp
"You have no messages."
"You have 1 messages."
"You have 2 messages."
"You have {0} messages."
```

Необходимо написать код в приложении для оценки отображаемое число и выберите соответствующую строку. Некоторые платформы (в том числе iOS и Android) имеют встроенные функции, чтобы автоматически выбрать лучший во множественном числе строки, на основании параметров для текущего языка.


### <a name="allowing-for-gender"></a>Разрешение для gender

Языки на основе латиницы иногда используются разные слова в зависимости от рода субъекта. Если приложение знает об пол, следует разрешить переведенные строки отразить это.

Имеется также более очевидным так даже на английском языке, где строки ссылаются на конкретного пользователя или пользователя приложения. Например, некоторые сайты отображения сообщений, подобных `"Bob commented on his post"` поэтому строк для мужского, женского пола и недвоичные или неизвестный Пол:

**Хороший**:

```csharp
"{0} commented on his post"
"{0} commented on her post"
"{0} commented on their post"
```

### <a name="dont-reuse-strings"></a>Не используйте повторно строк

Или, точнее говоря, не используйте повторно строк только потому, что они похожи, когда сама строка имеет другой цели или значение.

Пример: предположим, у вас есть Признак включения в приложении и коммутатора элементу управления требуется текст «on» и «off» должен быть локализован. Можно отобразить значение этого параметра в другом месте в приложении в текстовую метку. Следует использовать разные строки для отображения коммутатора и состояние переключателя (даже если они имеют одну и ту же строку в качестве языка по умолчанию) — например:

-   «Вкл.» — отображается на самом коммутаторе
-   «Выкл.» — отображается на самом коммутаторе
-   «Вкл.» — отображается в метке
-   «Выкл.» — отображается в метке

Это обеспечивает максимальную гибкость транслятора:

-   В целях разработки возможно переключатель используется нижний регистр, «on» и «отключено», но метки использует верхний регистр «On» и «Отключено».
-   В некоторых языках могут потребоваться значение переключателя сокращение в соответствии в элементе управления интерфейса пользователя, но завершение слов (переведенные) может отображаться в метке.
-   Кроме того для некоторых языков отрисовку коммутатора возможно использовать «I» и «O» для упрощения объяснений культуры, но можно по-прежнему метки для чтения «On» или «Off».

### <a name="translation-services"></a>Услуги по переводу

#### <a name="machine-translation"></a>Машинный перевод

Для создания функции перевода в приложение, рассмотрите возможность [API перевода текстов Azure](https://azure.microsoft.com/services/cognitive-services/translator-text-api/).

Для целей тестирования можно использовать одно из множества средств Онлайн-перевод для включения некоторых локализованный текст в приложении во время разработки:

- [Переводчик Bing](https://www.bing.com/translator/)
- [Перевод Google](http://translate.google.com/)

Существуют и многие другие доступные. Качество машинного перевода обычно не считается достаточно хороша, чтобы выпустить приложение без сначала проверен и протестирован профессиональных переводчиков или носителями.

#### <a name="professional-translation"></a>Профессиональные перевода

Кроме того, существуют также профессиональные услуги по переводу, в которых будет строк и распространять их собственные переводчикам, предоставляя завершения переводы за плату.

Одна из самых известных служб является [LionBridge](http://www.lionbridge.com/). Наиболее профессиональные услуги поддержки всех распространенных типов файлов, включая строки, XML, RESX и POT/PO.


## <a name="summary"></a>Сводка

В этой статье представлены некоторые основные понятия, вы должны быть знакомы с перед интернационализации приложения и последующей локализации ресурсов что также рассмотрели, как изменить языковые параметры для каждой платформы.

Эти концепции могут применяться различные платформы и кросс платформенную интернационализации техники, доступных с помощью Xamarin.

Продолжите чтение технические сведения для платформы, которые вас интересуют:

- [Xamarin.Forms](~/xamarin-forms/app-fundamentals/localization/index.md) локализации с помощью файлов RESX.
- [Xamarin.iOS](~/ios/app-fundamentals/localization/index.md) локализации собственной платформы.
- [Xamarin.Android](~/android/app-fundamentals/localization.md) локализации собственной платформы.



## <a name="related-links"></a>Связанные ссылки

- [Общие сведения о локализации Apple](https://developer.apple.com/internationalization/)
- [Контрольный список для локализации Android](http://developer.android.com/distribute/tools/localization-checklist.html)
- [Рекомендации по разработке международных приложений (MSDN)](http://msdn.microsoft.com/library/w7x1y988%28v=vs.90%29.aspx)
