---
title: Представление альтернативного макета
description: В этом разделе объясняется, как макеты можно с контролем версий с помощью квалификаторов ресурса. Например может существовать версию макет, который используется только в том случае, когда устройство находится в альбомной ориентации и макет версию, которая предназначена только для книжной ориентации.
ms.prod: xamarin
ms.assetid: 5EBF51FC-9048-F0CF-624A-D8782A91C1FD
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 07/25/2018
ms.openlocfilehash: 03b80d3fb1ed7c8db108f86b3b3923c20e1d908f
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2018
ms.locfileid: "50109982"
---
# <a name="alternative-layout-views"></a>Представление альтернативного макета

_В этом разделе объясняется, как можно версии макетов с помощью квалификаторов ресурса. Например создание версии макет, который используется только в том случае, когда устройство находится в альбомной ориентации и макет версию, которая предназначена только для книжной ориентации._

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

## <a name="creating-alternative-layouts"></a>Создание альтернативные макеты

При нажатии кнопки **альтернативное представление макета** значок (слева от **устройства**), откроется панель, предварительной версии, чтобы получить список альтернативных макетов, имеющихся в проекте. При наличии не альтернативные макеты **по умолчанию** представление: 

[![Панель представления альтернативный макет](alternative-layout-views-images/vs/01-alt-layout-view-pane-sml.png "панели представление альтернативного макета")](alternative-layout-views-images/vs/01-alt-layout-view-pane.png#lightbox)

При нажатии кнопки "плюс" рядом с полем **новой версии**, **Создание варианта макета** откроется диалоговое окно, в котором можно выбрать квалификаторы ресурсов для этого варианта макета: 

[![Создание варианта макета](alternative-layout-views-images/vs/02-create-layout-variation-sml.png "Создание варианта макета")](alternative-layout-views-images/vs/02-create-layout-variation.png#lightbox)

В следующем примере квалификатор ресурсов для **ориентацию экрана** присваивается **Альбомная**и **размер экрана** изменяется на **крупный**. При этом создается новая версия макета с именем **больших land**:

[![Крупный land вариантов](alternative-layout-views-images/vs/03-large-land-sml.png "land крупный вариант")](alternative-layout-views-images/vs/03-large-land.png#lightbox)

Обратите внимание на то, что в левую панель предварительного просмотра отображает результат применения выбранных элементов для квалификатора ресурса. Щелкнув **добавить** создает альтернативный макет и переключается в этот макет конструктора. **Альтернативный режим** область просмотра указывает, какой макет загружается в конструкторе с помощью небольших правым указателем, как показано на следующем снимке экрана: 

[![Загрузить макет индикатора](alternative-layout-views-images/vs/04-new-layout-sml.png "загрузить макет индикатора")](alternative-layout-views-images/vs/04-new-layout.png#lightbox)


## <a name="editing-alternative-layouts"></a>Редактирование альтернативные макеты

При создании альтернативные структуры, часто бывает рекомендуется внести одно изменение, применяется ко всем версиям разветвленного макета. Например можно изменить на кнопке отображается надпись на желтый во все макеты. Если у вас есть большое количество макетов, вам необходимо распространить одно изменение ко всем версиям обслуживания может быстро стать неудобно и подверженной ошибкам.

Чтобы упростить обслуживание нескольких версий макета, конструктор предоставляет **несколькими редактирования** режим, который распространяет изменения на один или несколько макетов. Если присутствует несколько макетов, **несколькими редактирования** отображается значок: 

[![Значок редактирования нескольких](alternative-layout-views-images/vs/05-multi-layout-icon-sml.png "значок редактирования нескольких")](alternative-layout-views-images/vs/05-multi-layout-icon.png#lightbox)

При нажатии кнопки **несколькими редактирования** значок, появляются линии, которые указывают, что макеты связаны (как показано ниже); то есть при изменении макета, это изменение распространяется на связанного макеты. Отменить связь всех макетов можно, щелкнув значок кружке показано на следующем снимке экрана: 

[![Отменить связь всех макетов](alternative-layout-views-images/vs/06-multi-linked-sml.png "отменить связь всех макетов")](alternative-layout-views-images/vs/06-multi-linked.png#lightbox)

При наличии более двух макеты можно переключать выборочно «изменить» слева от каждого Предварительный просмотр макета, чтобы определить, какие макеты связаны друг с другом. Например, если вы хотите внести одно изменение, распространяющую первый и последний из трех макеты, вы бы сначала удалить связь средней макета следующим образом: 

[![Отменить связь средней макета](alternative-layout-views-images/vs/07-unlink-middle-layout-sml.png "средней макета удалить связь")](alternative-layout-views-images/vs/07-unlink-middle-layout.png#lightbox)

В этом примере изменения, внесенные либо **по умолчанию** или **long** макет будет распространяться на другие макет, но не к **больших land** макета.

### <a name="multi-edit-example"></a>Пример нескольких редактирования 

Как правило изменении макета, это же изменение распространяется на все остальные связанные макетов. Например, при добавлении нового `TextView` мини-приложение, чтобы **по умолчанию** макет и изменение его текст строки `Portrait` приведет к изменению внесены все связанные макетов. Вот как выглядит **по умолчанию** макета: 

[![Добавление TextView](alternative-layout-views-images/vs/08-add-textview-sml.png "добавьте TextView")](alternative-layout-views-images/vs/08-add-textview.png#lightbox)
 
`TextView` Также добавляется **больших land** макета представления, так как он привязан к **по умолчанию** макета: 

[![В альбомной ориентации TextView](alternative-layout-views-images/vs/09-landscape-textview-sml.png "TextView в альбомной ориентации")](alternative-layout-views-images/vs/09-landscape-textview.png#lightbox)
 
Но что делать, если вы хотите внести изменение, который является локальным для только один макет (то есть вы не хотите изменения передаются на любой из других значений)? Чтобы сделать это, необходимо удалить связь макет, который вы хотите изменить перед внесением изменений, как описано далее. 

### <a name="making-local-changes"></a>Внесение локальных изменений 

Предположим, что мы хотим, чтобы оба макеты для дополнительное `TextView`, но мы также хотим изменить текстовую строку в **больших land** макета для `Landscape` вместо `Portrait`. Если мы внести это изменение к **больших land** хотя связаны обоих макетах, изменение будет распространяются в обратном направлении **по умолчанию** макета. Таким образом нам необходимо сначала разорвать связь двух структур перед внесением изменений. Если мы изменим текст в **больших land** для `Landscape`, конструкторе помечает это изменение Красная рамка, изменение является локальным для **больших land** макета и *не* распространяются обратно **по умолчанию** макета: 

[![Локальное изменение](alternative-layout-views-images/vs/10-local-change-sml.png "локальное изменение")](alternative-layout-views-images/vs/10-local-change.png#lightbox)
 
При нажатии кнопки **по умолчанию** макета, чтобы просмотреть его, `TextView` по-прежнему остается текстовую строку `Portrait`. 

## <a name="handling-conflicts"></a>Обработка конфликтов 

Если вы решили изменить цвет текста в **по умолчанию** макета зеленый цвет, вы увидите значок предупреждения отображаются в связанных макета. Если щелкнуть этот макет откроется макет, чтобы показать конфликт. Мини-приложения, вызвавшем конфликт будет выделен Красная рамка и отображается следующее сообщение: *последние изменения вызвали конфликты в этом альтернативном макете*. 

[![Конфликтующих изменений](alternative-layout-views-images/vs/11-conflicting-change-sml.png "конфликтующих изменений")](alternative-layout-views-images/vs/11-conflicting-change.png#lightbox)
 
Объект *конфликт поле* отображается в правой части мини-приложения для объяснения конфликт: 

[![Предупреждение о конфликте](alternative-layout-views-images/xs/11-warning-sml.png)](alternative-layout-views-images/xs/11-warning.png#lightbox)

Поле конфликт показывает список свойств, которые были изменены, а его список их значения. Щелкнув **игнорировать конфликт** применяется изменение свойства только для этого мини-приложения. Щелкнув **применить** применяется изменение свойства для этого мини-приложения также о том, какой мини-приложения в связанном **по умолчанию** макета. Если все изменения свойств применяются, конфликт автоматически удаляются. 

### <a name="view-group-conflicts"></a>Просмотр конфликтов группы 

Изменения свойств не являются единственным источником конфликтов. Конфликты могут быть обнаружены при вставке или удалении мини-приложения. Например, если **больших land** макета является теряет связи от **по умолчанию** макет и `TextView` в **больших land** макета является перетаскиваемым выше `Button`, конструкторе помечает перемещенный мини-приложения для указания конфликт:

[![Просмотр конфликтов группы](alternative-layout-views-images/vs/12-view-group-conflict-sml.png "Просмотр конфликтов группы")](alternative-layout-views-images/vs/12-view-group-conflict.png#lightbox)
 
Однако есть маркер не на `Button`. Несмотря на то что положение `Button` изменилось, `Button` показывает не примененные изменения, относящиеся к **больших land** конфигурации. 

Если `CheckBox` добавляется **по умолчанию** макета, создается другой конфликтов и значок предупреждения отображается над **больших land** макета: 

[![Конфликт флажок](alternative-layout-views-images/vs/13-checkbox-conflict-sml.png "флажок конфликтов")](alternative-layout-views-images/vs/13-checkbox-conflict.png#lightbox)
 
Щелкнув **больших land** макета раскрывает конфликт. Отображается следующее сообщение: *последние изменения вызвали конфликты в этом альтернативном макете*: 

[![Конфликт ALT макета](alternative-layout-views-images/vs/14-alt-layout-conflict-sml.png "конфликт Alt макета")](alternative-layout-views-images/vs/14-alt-layout-conflict.png#lightbox)

Кроме того поле конфликт отображается следующее сообщение:

[![Сообщение о конфликте](alternative-layout-views-images/xs/15-conflict-message-sml.png)](alternative-layout-views-images/xs/15-conflict-message.png#lightbox)

Добавление `CheckBox` вызывает конфликт, так как **больших land** макета в изменилось `LinearLayout` , которая его содержит. Тем не менее, в этом случае поле конфликт отображается мини-приложение, только что вставленного в **по умолчанию** макета ( `CheckBox`).

Если щелкнуть **игнорировать конфликт**, конструктор разрешает конфликт, позволяя мини-приложения, отображаемый в поле конфликт для должен быть перетащен в макет которой отсутствует мини-приложения (в этом случае **больших land**  макета): 

[![Разрешенный конфликт группы](alternative-layout-views-images/vs/15-resolved-group-conflict-sml.png "разрешенный конфликт группы")](alternative-layout-views-images/vs/15-resolved-group-conflict.png#lightbox)

Как показано в предыдущем примере с `Button`, `CheckBox` нет маркер red изменений, так как только `LinearLayout` есть изменения, которые были применены в **больших land** макета.



# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

## <a name="creating-alternative-layouts"></a>Создание альтернативные макеты

При нажатии кнопки **альтернативное представление макета** значок (слева от **устройства**), откроется панель, предварительной версии, чтобы получить список альтернативных макетов, имеющихся в проекте. При наличии не альтернативные макеты **по умолчанию** представление: 

[![Панель представления альтернативного макета](alternative-layout-views-images/xs/01-alt-layout-view-pane-sml.png)](alternative-layout-views-images/xs/01-alt-layout-view-pane.png#lightbox)

При нажатии кнопки "плюс" рядом с полем **новой версии**, **Создание варианта макета** откроется диалоговое окно, в котором можно выбрать квалификаторы ресурсов для этого варианта макета: 

[![Создание варианта макета](alternative-layout-views-images/xs/02-create-layout-variation-sml.png)](alternative-layout-views-images/xs/02-create-layout-variation.png#lightbox)

В следующем примере квалификатор ресурсов для **ориентацию экрана** присваивается **Альбомная**и **размер экрана** изменяется на **крупный**. При этом создается новая версия макета с именем **больших land**:

[![Крупный land вариантов](alternative-layout-views-images/xs/03-large-land-sml.png)](alternative-layout-views-images/xs/03-large-land.png#lightbox)

Обратите внимание на то, что в левую панель предварительного просмотра отображает результат применения выбранных элементов для квалификатора ресурса. Щелкнув **добавить** создает альтернативный макет и переключается в этот макет конструктора. **Альтернативный режим** область просмотра указывает, какой макет загружается в конструкторе с помощью небольших правым указателем, как показано на следующем снимке экрана: 

[![Загрузить макет индикатора](alternative-layout-views-images/xs/04-new-layout-sml.png)](alternative-layout-views-images/xs/04-new-layout.png#lightbox)

## <a name="editing-alternative-layouts"></a>Редактирование альтернативные макеты

При создании альтернативные структуры, часто бывает рекомендуется внести одно изменение, применяется ко всем версиям разветвленного макета. Например можно изменить на кнопке отображается надпись на желтый во все макеты. Если у вас есть большое количество макетов, вам необходимо распространить одно изменение ко всем версиям обслуживания может быстро стать неудобно и подверженной ошибкам.

Чтобы упростить обслуживание нескольких версий макета, конструктор предоставляет **несколькими редактирования** режим, который распространяет изменения на один или несколько макетов. Если присутствует несколько макетов, **несколькими редактирования** отображается значок: 

[![Значок редактирования нескольких](alternative-layout-views-images/xs/05-multi-layout-icon-sml.png)](alternative-layout-views-images/xs/05-multi-layout-icon.png#lightbox)

При нажатии кнопки **несколькими редактирования** значок, появляются линии, которые указывают, что макеты связаны (как показано ниже); то есть при изменении макета, это изменение распространяется на связанного макеты. Отменить связь всех макетов можно, щелкнув значок кружке показано на следующем снимке экрана: 

[![Отменить связь всех макетов](alternative-layout-views-images/xs/06a-linked-sml.png)](alternative-layout-views-images/xs/06a-linked.png#lightbox)

При наличии более двух макеты можно переключать выборочно «изменить» слева от каждого Предварительный просмотр макета, чтобы определить, какие макеты связаны друг с другом. Например, если вы хотите внести одно изменение, распространяющую первый и последний из трех макеты, вы бы сначала удалить связь средней макета следующим образом: 

[![Отмена связи средней макета](alternative-layout-views-images/xs/06b-multi-linked-sml.png)](alternative-layout-views-images/xs/06b-multi-linked.png#lightbox)

В этом примере изменения, внесенные либо **по умолчанию** или **long** макет будет распространяться на другие макет, но не к **больших land** макета. 

### <a name="multi-edit-example"></a>Пример нескольких редактирования 

Как правило изменении макета, это же изменение распространяется на все остальные связанные макетов. Например, при добавлении нового `TextView` мини-приложение, чтобы **по умолчанию** макет и изменение его текст строки `Portrait` приведет к изменению внесены все связанные макетов. Вот как выглядит **по умолчанию** макета: 

[![Добавление TextView](alternative-layout-views-images/xs/07-add-textview-sml.png)](alternative-layout-views-images/xs/07-add-textview.png#lightbox)

`TextView` Также добавляется **больших land** макета представления, так как он привязан к **по умолчанию** макета: 

[![Альбомная TextView](alternative-layout-views-images/xs/08-landscape-textview-sml.png)](alternative-layout-views-images/xs/08-landscape-textview.png#lightbox)
 
Но что делать, если вы хотите внести изменение, который является локальным для только один макет (то есть вы не хотите изменения передаются на любой из других значений)? Чтобы сделать это, необходимо удалить связь макет, который вы хотите изменить перед внесением изменений, как описано далее. 

### <a name="making-local-changes"></a>Внесение локальных изменений 

Предположим, что мы хотим, чтобы оба макеты для дополнительное `TextView`, но мы также хотим изменить текстовую строку в **больших land** макета для `Landscape` вместо `Portrait`. Если мы внести это изменение к **больших land** хотя связаны обоих макетах, изменение будет распространяются в обратном направлении **по умолчанию** макета. Таким образом нам необходимо сначала разорвать связь двух структур перед внесением изменений. Если мы изменим текст в **больших land** для `Landscape`, конструкторе помечает это изменение Красная рамка, изменение является локальным для **больших land** макета и *не* распространяются обратно **по умолчанию** макета: 

[![Локальное изменение](alternative-layout-views-images/xs/09-local-change-sml.png)](alternative-layout-views-images/xs/09-local-change.png#lightbox)

При нажатии кнопки **по умолчанию** макета, чтобы просмотреть его, `TextView` по-прежнему остается текстовую строку `Portrait`. 

## <a name="handling-conflicts"></a>Обработка конфликтов 

Если вы решили изменить цвет текста в **по умолчанию** макета зеленый цвет, вы увидите значок предупреждения отображаются в связанных макета. Если щелкнуть этот макет откроется макет, чтобы показать конфликт. Мини-приложения, вызвавшем конфликт будет выделен Красная рамка и отображается следующее сообщение: *последние изменения вызвали конфликты в этом альтернативном макете*. 

[![Конфликтующее изменение](alternative-layout-views-images/xs/10-conflict-sml.png)](alternative-layout-views-images/xs/10-conflict.png#lightbox)

Объект *конфликт поле* отображается в правой части мини-приложения для объяснения конфликт: 

[![Предупреждение о конфликте](alternative-layout-views-images/xs/11-warning-sml.png)](alternative-layout-views-images/xs/11-warning.png#lightbox)

Поле конфликт показывает список свойств, которые были изменены, а его список их значения. Щелкнув **игнорировать конфликт** применяется изменение свойства только для этого мини-приложения. Щелкнув **применить** применяется изменение свойства для этого мини-приложения также о том, какой мини-приложения в связанном **по умолчанию** макета. Если все изменения свойств применяются, конфликт автоматически удаляются. 

### <a name="view-group-conflicts"></a>Просмотр конфликтов группы 

Изменения свойств не являются единственным источником конфликтов. Конфликты могут быть обнаружены при вставке или удалении мини-приложения. Например, если **больших land** макета является теряет связи от **по умолчанию** макет и `TextView` в **больших land** макета является перетаскиваемым выше `Button`, конструкторе помечает перемещенный мини-приложения для указания конфликт:

[![Конфликт групповых представления](alternative-layout-views-images/xs/12-view-group-conflict-sml.png)](alternative-layout-views-images/xs/12-view-group-conflict.png#lightbox)
 
Однако есть маркер не на `Button`. Несмотря на то что положение `Button` изменилось, `Button` показывает не примененные изменения, относящиеся к **больших land** конфигурации. 

Если `CheckBox` добавляется **по умолчанию** макета, создается другой конфликтов и значок предупреждения отображается над **больших land** макета: 

[![Конфликт флажок](alternative-layout-views-images/xs/13-checkbox-conflict-sml.png)](alternative-layout-views-images/xs/13-checkbox-conflict.png#lightbox)
 
Щелкнув **больших land** макета раскрывает конфликт. Отображается следующее сообщение: *последние изменения вызвали конфликты в этом альтернативном макете*. 

[![Конфликт ALT макета](alternative-layout-views-images/xs/14-alt-layout-conflict-sml.png)](alternative-layout-views-images/xs/14-alt-layout-conflict.png#lightbox)
 
Кроме того поле конфликт отображается следующее сообщение:

[![Сообщение о конфликте](alternative-layout-views-images/xs/15-conflict-message-sml.png)](alternative-layout-views-images/xs/15-conflict-message.png#lightbox)

Добавление `CheckBox` вызывает конфликт, так как **больших land** макета в изменилось `LinearLayout` , которая его содержит. Тем не менее, в этом случае поле конфликт отображается мини-приложение, только что вставленного в **по умолчанию** макета ( `CheckBox`).

Если щелкнуть **игнорировать конфликт**, конструктор разрешает конфликт, позволяя мини-приложения, отображаемый в поле конфликт для должен быть перетащен в макет которой отсутствует мини-приложения (в этом случае **больших land**  макета): 

[![Разрешенный конфликт группы](alternative-layout-views-images/xs/16-resolved-group-conflict-sml.png)](alternative-layout-views-images/xs/16-resolved-group-conflict.png#lightbox)
 
Как показано в предыдущем примере с `Button`, `CheckBox` нет маркер red изменений, так как только `LinearLayout` есть изменения, которые были применены в **больших land** макета.


-----


### <a name="conflict-persistence"></a>Конфликт сохраняемости

Конфликты, сохраняются в файле макета как комментарии XML, как показано ниже:

```xml
<!-- Widget Inserted Conflict | id:__root__ | @+id/checkBox1 -->
```

Таким образом, при закрытии и открыть проект, все конфликты будут по-прежнему присутствовать &ndash; даже те, которые были пропущены.



