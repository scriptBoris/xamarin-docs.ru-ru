---
title: Запуск приложения карт
description: Как запускать в приложении встроенные карты из приложения Xamarin.Android.
ms.prod: xamarin
ms.assetid: 929EACB8-8950-50E1-093C-43FB5F1F1CD5
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 06/25/2018
ms.openlocfilehash: cd80154602cc22668768fe217da7371b77ded003
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2018
ms.locfileid: "50112392"
---
# <a name="launching-the-maps-application"></a>Запуск приложения карт

Для работы с картами в Xamarin.Android проще всего использовать встроенные карты приложения, показано ниже:

[![Снимок экрана с примером из встроенного приложения Google Maps](maps-application-images/01-mapsapplication.png)](maps-application-images/01-mapsapplication.png#lightbox)

При использовании приложения карты, карты не будет частью приложения. Вместо этого запустите приложение карты и загрузить карту извне приложения. Следующем разделе рассматривается использование Xamarin.Android для запуска maps отличается от приведенного выше.


## <a name="creating-the-intent"></a>Создание цели

Работа с картами, не сложнее создания объекта Intent с соответствующим URI для ActionView параметра действие и вызвав метод StartActivity приложения. Например следующий код запускает приложение карты по центру в заданной широты и долготы:

```csharp
var geoUri = Android.Net.Uri.Parse ("geo:42.374260,-71.120824");
var mapIntent = new Intent (Intent.ActionView, geoUri);
StartActivity (mapIntent);
```

Этот код является все, что требуется для запуска карта, показанная на предыдущем снимке экрана. Помимо указания широты и долготы, схему URI для карт поддерживает несколько вариантов.


## <a name="geo-uri-scheme"></a>Схема Geo URI

В приведенном выше коде использовали географически схему для создания URI. Эта схема URI поддерживает несколько форматов, как показано ниже:

-   `geo:latitude,longitude` &ndash; Открывает приложение карты, отцентрованного в lat или долготы. 

-   `geo:latitude,longitude?z=zoom` &ndash; Открытие карты приложения по центру в lat или долготы и в масштабе заданного уровня. Уровень масштаба в диапазоне от 1 до 23: 1 экранов всей поверхности Земли и 23 является ближайшим уровень масштаба.

-   `geo:0,0?q=my+street+address` &ndash; Открывает приложение карты требуемый почтовый адрес. 

-   `geo:0,0?q=business+near+city` &ndash; Открывает приложение карты и отображает результаты поиска с заметками. 


В версиях URI, которые принимают запрос (а именно почтовый адрес или поиска условия) использовать службу геокодирования Google для получения расположения, которое отображается на карте. Например, URI `geo:0,0?q=coop+Cambridge` приводит к схеме, показано ниже:

[![Снимок экрана пример, показывающий Google Maps условие поиска](maps-application-images/02-mapsearch.png)](maps-application-images/02-mapsearch.png#lightbox)



Дополнительные сведения о географической схем URI, см. в разделе [Показать расположение на карте](http://developer.android.com/guide/components/intents-common.html#Maps).


## <a name="street-view"></a>Представление улицы

В дополнение к схеме географически Android также поддерживает загрузку улицы представления намерения. Ниже приведен пример представления улицы приложение, которое запускается из Xamarin.Android:

[![Снимок экрана с примером улицы представления](maps-application-images/03-streetview.png)](maps-application-images/03-streetview.png#lightbox)

Чтобы запустить улицы представления, просто используйте `google.streetview` схему URI, как показано в следующем коде:

```csharp
var streetViewUri = Android.Net.Uri.Parse (
       "google.streetview:cbll=42.374260,-71.120824&cbp=1,90,,0,1.0&mz=20");  
var streetViewIntent = new Intent (Intent.ActionView, streetViewUri);  
StartActivity (streetViewIntent);
```

Схема URI google.streetview выше имеет следующий вид:

```csharp
google.streetview:cbll=lat,lng&cbp=1,yaw,,pitch,zoom&mz=mapZoom
```

Как вы видите, существует несколько параметров, которые поддерживается, как показано ниже:

-   `lat` &ndash; Широта расположения для отображения в представлении улицы.

-   `lng` &ndash; Долгота расположения для отображения в представлении улицы.

-   `pitch` &ndash; Угол Панорама улицы представления, измеряется от центра в градусах, где прямых вниз на 90 градусов и -90 градусов — вверх.

-   `yaw` &ndash; Центрировать представление из Панорама улицы представление по часовой стрелке измеряемый в градусах от севера.

-   `zoom` &ndash; Масштабировать множитель для Панорама улицы представление, где 1.0 = normal масштаба, 2.0 = увеличенной 2 x 3.0 = увеличенной 4 x, и т.д.

-   `mz` &ndash; Уровень масштаба карты, который будет использоваться, когда планируется приложение карт из улицы представления.


Работа с встроенной сопоставляет приложения или улицы это представление является простой способ быстро добавить поддержку сопоставления. Тем не менее API для карт Android обеспечивает более точный контроль качества сопоставления.
