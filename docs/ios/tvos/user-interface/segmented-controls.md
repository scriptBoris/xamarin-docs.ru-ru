---
title: Работа с tvOS Сегментированные элементы управления в Xamarin
description: В этом документе описывается, как работать с tvOS Сегментированные элементы управления в приложении, созданном с помощью Xamarin. В нем описывается сегмент значки и текст, события, изменение внешнего вида элемента управления и многое другое.
ms.prod: xamarin
ms.assetid: 23AD94CC-E93A-40B1-8E2B-ECD21FA355BE
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 03/16/2017
ms.openlocfilehash: 98a770d05014e0498b805ed9ffa0c84314efc765
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2018
ms.locfileid: "50107133"
---
# <a name="working-with-tvos-segmented-controls-in-xamarin"></a>Работа с tvOS Сегментированные элементы управления в Xamarin

Сегментированный управления предоставляет набор линейной элементов, каждый из которых может содержать значок или текст и используется для предоставления набора связанных вариантов для пользователя.

[![](segmented-controls-images/segment01.png "Примерами элементов управления сегмента")](segmented-controls-images/segment01.png#lightbox)

Apple имеет следующие рекомендации по работе с Сегментированные элементы управления:

- **Вполне достаточно** -осторожностью следует взять вполне достаточно другу [, способному получать фокус элементов](~/ios/tvos/app-fundamentals/navigation-focus.md) и сегментированных элемента управления. Создает отдельные сегмент выделяется после фокус (не при ее нажатии) и пользователь случайно может изменить сегменты, когда они на самом деле нужно выбрать другой элемент, способному получать фокус, в текущем сегменте.
- **Используйте разделение представления для фильтрации содержимого** -Сегментированные элементы управления не сделать правильный выбор для фильтрации как представления с разделением были разработаны для упрощения перемещения между содержимым и фильтры содержимого.
- **Ограничение на семь Max сегменты** -следует попытаться сохранить максимальное число сегментов ниже восемь (8), как это проще выполнить анализ из двух зала на диване и проще для перехода.
- **Использовать постоянный размер сегмента содержимого** — все сегменты имеют одинаковую ширину, и, если это возможно, следует попытаться сохранить содержимое в каждом сегменте одинаковый размер. Это не только делает более визуально привлекательные элементы управления сегмент, но облегчает чтение с первого взгляда.
- **Избегайте смешения значки и текст** -каждого отдельного сегмента может содержать значок или текст, но не оба. Хотя можно смешивать значки и текст в элементе управления одной сегментированной, этого следует избегать.

<a name="About-Segment-Icons" />

## <a name="about-segment-icons"></a>О значках сегмента

Apple предлагает, использовать простой, распознаваемый изображений для значков сегмента, например увеличительного стекла для поиска. Слишком сложный значки трудно распознавать на экране ТВ в комнату, поэтому лучше ограничить значки для простого представления.

Нельзя смешивать текст и значки для данного сегмента, и не следует использовать значки и текст в сегментированных одного элемента управления. Следует все значки или весь текст.

<a name="Summary" />

## <a name="segment-text"></a>Сегмент текста

Apple вносит следующие рекомендации по работе с текстом сегмент:

- **Используйте короткое, значимые существительные** -заголовок сегмента следует явно указано, тип содержимого, который пользователя следует ожидать, что при выборе конкретного сегмента. Например: музыки или видео.
- **Используйте регистр заглавные буквы** -каждого слова заголовка сегменты должны прописными буквами, за исключением статей, союзы и предлогов меньше четырех (4) символов.
- **Используйте короткое, с фокусом ввода названия** -сохранять заголовки, коротким и направленными на тип содержимого происходит при выборе сегмента.

Опять же нельзя смешивать текст и значки для данного сегмента, и не следует использовать значки и текст в сегментированных одного элемента управления.

<a name="Segment-Controls-and-Storyboards" />

## <a name="segment-controls-and-storyboards"></a>Элементы управления сегмента и раскадровки

Для работы с элементами управления сегмента в приложении Xamarin.tvOS проще всего добавить их в пользовательском Интерфейсе приложения с помощью конструктора iOS.

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

1. В **панели решения**, дважды щелкните `Main.storyboard` и откройте его для редактирования.
1. Перетащите **управления сегмент** из **элементов** и поместите его в представлении: 

    [![](segmented-controls-images/segment02.png "Элемент управления сегмента")](segmented-controls-images/segment02.png#lightbox)
1. В **вкладку графического** из **панели свойство**, вы можете настроить несколько свойств элемента управления сегмента, такие как его **стиля** и **состояние**: 

    [![](segmented-controls-images/segment03.png "На вкладке мини-приложения")](segmented-controls-images/segment03.png#lightbox)
1. Используйте **сегменты** поле, чтобы управлять число сегментов в контроллере.
1. Выберите конкретного сегмента из **раскрывающийся список сегмент** Чтобы откорректировать отдельные свойства, такие как **Title** или **изображение** и элемент управления, если данный сегмент  **Включить** или **выбранные** при отображении элемента управления.
1. Наконец, присвойте **имена** к элементам управления таким образом, может отвечать на эти файлы в C# кода. Пример: 

    [![](segmented-controls-images/segment04.png "Присвойте имя")](segmented-controls-images/segment04.png#lightbox)
1. Сохраните изменения.

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)
    
1. В **обозревателе решений**, дважды щелкните `Main.storyboard` и откройте его для редактирования.
1. Перетащите **управления сегмент** из **элементов** и поместите его в представлении: 

    [![](segmented-controls-images/segment02-vs.png "Элемент управления сегмента")](segmented-controls-images/segment02-vs.png#lightbox)
1. В **вкладку графического** из **обозреватель свойств**, вы можете настроить несколько свойств элемента управления сегмента, такие как его **стиля** и **состояние**: 

    [![](segmented-controls-images/segment03-vs.png "На вкладке мини-приложения")](segmented-controls-images/segment03-vs.png#lightbox)
1. Используйте **сегменты** поле, чтобы управлять число сегментов в контроллере.
1. Выберите конкретного сегмента из **раскрывающийся список сегмент** Чтобы откорректировать отдельные свойства, такие как **Title** или **изображение** и элемент управления, если данный сегмент  **Включить** или **выбранные** при отображении элемента управления.
1. Наконец, присвойте **имена** к элементам управления таким образом, может отвечать на эти файлы в C# кода. Пример: 

    [![](segmented-controls-images/segment04-vs.png "Присвойте имя")](segmented-controls-images/segment04-vs.png#lightbox)
1. Сохраните изменения.
    
-----

Дополнительные сведения о работе с раскадровками, см. в разделе наших [по Tvos краткое руководство по](~/ios/tvos/get-started/hello-tvos.md). 

<a name="Working-with-Segmented-Controls" />

## <a name="working-with-segmented-controls"></a>Работа с Сегментированные элементы управления

Как уже говорилось выше, s, сегментированных управления предоставляет набор линейной элементов, каждый из которых может содержать значок или текст и используется для предоставления набора связанных вариантов для пользователя.

Существует несколько разных способов, которыми можно работать с Сегментированные элементы управления в приложении Xamarin.tvOS.

<a name="Exposed-as-Outlets-and-Actions" />

## <a name="exposed-as-names-and-events"></a>В виде имена и события

Если вы создали сегмент элемента управления в конструкторе интерфейса и в виде его с именем элемента управления и события реагировать на изменение сегмента можно использовать следующий код:

```csharp
partial void PlayerCountChanged (Foundation.NSObject sender) {

    // Take action based on the number of players selected
    switch(PlayerCount.SelectedSegment) {
    case 0:
        // Do something if the segment is selected
        ...
        break;
    case 1:
        // Do something if the segment is selected
        ...
        break;
    case 2:
        // Do something if the segment is selected
        ...
        break;
    }
}
```

Приведенном выше примере элемент управления сегмент предоставляется как `PlayerCount` имя и `PlayerCountChanged` действие события. Дополнительные сведения о работе с действиями и выходов, см. в разделе [написания кода с помощью переменных экземпляров и действий](~/ios/tvos/get-started/hello-tvos.md#Writing-the-Code) части нашей [по Tvos краткое руководство по](~/ios/tvos/get-started/hello-tvos.md).

`SelectedSegment` Свойство получает или задает индекс текущего выбранного сегмента как ноль (0), на основе. Поэтому если у вас есть пять (5) сегментов, первый сегмент будет иметь список нуль (0), а также последние индекс четырем (4).

<a name="Modifying-Segments" />

## <a name="modifying-segments"></a>Изменение сегментов

В любое время можно изменить номер и содержание вашего Сегментированные элементы управления. Чтобы вставить новый значок сегмента, используйте следующий код:

```csharp
// Icon Segment
SegmentedControl.InsertSegment(UIImage.FromFile("icon.png"), 0, true);

// Text Segment
SegmentedControl.InsertSegment("New Segment", 0, true);
```

Второй параметр определяет, где будет сегмента вставить с помощью с нуля (0) индекса. Если последний параметр является `true` анимируется вставки.

Чтобы удалить конкретного сегмента, используйте следующее:

```csharp
SegmentedControl.RemoveSegmentAtIndex(0, true);
```

Или ниже, чтобы удалить все сегменты:

```csharp
SegmentedControl.RemoveAllSegments();
```

Опять же если последний параметр является `true`, удаления, будет анимирован. Используйте `NumberOfSegments` свойство для возврата текущего количества сегментов.

Чтобы получить **Title** или **значок** конкретного сегмента, используйте следующую команду:

```csharp
// Get title
var title = SegmentedControl.TitleAt(0);

// Get icon
var icon = SegmentedControl.ImageAt(0);
```

И для изменения **Title** или **значок**, используйте следующую команду:

```csharp
// Set title
SegmentedControl.SetTitle("New Title", 0);

// Set icon
SegmentedControl.SetImage(UIImage.FromFile("icon.png"), 0);
```

Находится ли заданный сегмент **включено**, используйте следующую команду:

```csharp
if (SegmentedControl.IsEnabled(0)) {
    // Do something
    ...
}
```

А в **Включение или отключение** учитывая сегмента, используйте следующую команду:

```csharp
SegmentedControl.SetEnabled(false, 0);
```

<a name="Modifying-the-Segmented-Controls-Appearance" />

## <a name="modifying-the-segmented-controls-appearance"></a>Изменение внешнего вида элемента управления сегментированных

Изменение фона данного сегмента в образ можно использовать следующий код:

```csharp
SegmentedControl.SetBackgroundImage (UIImage.FromFile("background.png"), UIControlState.Normal, UIBarMetrics.Default);
```

Где `UIControlState` указывает состояние элемента управления, которое устанавливается изображение для его как:

- Норм.
- выделена
- Отключено
- Selected
- Focused

И `UIBarMetrics` указывает метрики для использования в качестве:

- Значение по умолчанию
- Compact
- DefaultPrompt
- CompactPrompt

Кроме того можно задать разделитель между сегментами, с помощью:

```csharp
SegmentedControl.SetDividerImage (UIImage.FromFile("divider.png"), UIControlState.Normal, UIControlState.Normal, UIBarMetrics.Default);
```

Где первый `UIControlState` указывает состояние сегмента слева от разделителя, а второй `UIControlState` указывает состояние сегмента справа.

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье подробно рассматривается проектирование и работа с сегментированной управления внутри приложения Xamarin.tvOS.



## <a name="related-links"></a>Связанные ссылки

- [Примеры tvOS](https://developer.xamarin.com/samples/tvos/all/)
- [tvOS](https://developer.apple.com/tvos/)
- [Человека направляющие интерфейса tvOS](https://developer.apple.com/tvos/human-interface-guidelines/)
- [Приложение руководство по программированию для tvOS](https://developer.apple.com/library/prerelease/tvos/documentation/General/Conceptual/AppleTV_PG/)
